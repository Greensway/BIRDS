language: R
sudo: false
cache: packages

addons:
  apt:
    update: true
    packages:
    - libudunits2-dev
    - libgdal-dev
    - libproj-dev
    - libgeos-dev
matrix:
  include:
  - os: linux
    r: release
    dist: trusty
    env:
    - BUILD_NAME=trusty_release
    - DETAILS="trusty release build"
    - R_CODECOV=true
env:
  global:
  - MAKEFLAGS="-j 2"
  - COMPILER=g++-8
  - CC=gcc-8
  - CXX=g++-8
  - NOT_CRAN=true
script:
- |
  R CMD build .
  travis_wait 20 R CMD check BIRDS*tar.gz
after_success:
- if [[ "${R_CODECOV}" ]]; then travis_wait 20 Rscript -e 'covr::codecov()'; fi
